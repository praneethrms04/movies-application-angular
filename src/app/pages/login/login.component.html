<div *ngIf="errorMsg">
  <app-error-display [errorMessage]="errorMsg" (customEvent)="clearError()" />
</div>

<div *ngIf="setLoading">
  <app-loader />
</div>

<div class="container">
  <div class="row">
    <div class="col">
      <div class="d-flex align-items-center">
        <img
          src="https://knowledgemission.kerala.gov.in/img/official-login.jpg"
          alt=""
          width="400px"
          height="400px"
        />
      </div>
    </div>
    <div class="col d-flex justify-content-center align-items-center w-100">
      <form
        (ngSubmit)="onLogin(form.value)"
        #form="ngForm"
        class="formstyle w-75 h-75"
      >
        <div class="text-center">
          <h3>Login</h3>
        </div>

        <div class="form-group mt-3">
          <input
            type="text"
            class="form-control"
            placeholder="UserId"
            name="userId"
            #userId="ngModel"
            ngModel
            required
            [ngClass]="{
              'danger-box': userId.invalid && userId.touched
            }"
          />
        </div>
        <div *ngIf="userId.invalid && (userId.dirty || userId.touched)">
          <p *ngIf="userId.errors?.['required']" class="text-danger">
            Enter Userid
          </p>
        </div>
        <div class="form-group mt-3">
          <input
            type="text"
            class="form-control"
            placeholder="password"
            name="password"
            #password="ngModel"
            ngModel
            required
            [ngClass]="{
              'danger-box': password.invalid && password.touched
            }"
          />
        </div>
        <div *ngIf="password.invalid && (password.dirty || password.touched)">
          <p *ngIf="password.errors?.['required']" class="text-danger">
            Enter Password
          </p>
        </div>

        <div class="form-group mt-1 text-center">
          <button
            type="submit"
            class="btn btn-primary w-50"
            [disabled]="userId.invalid || password.invalid"
          >
            Login
          </button>
        </div>
        <div class="pt-1 text-center">
          <h6>
            Don'thave an account ?
            <span class="text-primary pointer" (click)="gotoRegister()">
              Register</span
            >
          </h6>
        </div>
      </form>
    </div>
  </div>
</div>
